(function(e,t){var n={init:function(t,n,r){this.sliderContainer=t;this.urls=n;this.options=e.extend({},e.jSlider.options,r);this.dispIndex=0;this.initImages();this.getImageDimensions();this.initImageFrames();this.frameImages();this.initSlider();this.hangFrames();this.displaySlider();this.initResizeCallback();this.initSideButtons();this.bindSideButtons();this.initNavButtons();this.bindNavButtons();this.initAutoScroll()},initImages:function(){var t=this;this.images=[];this.shortImages=[];this.firstImageLoaded=new e.Deferred;this.loadedImages=0;for(var n=0;n<this.urls.length;n++){var r=e("<img>",{src:this.urls[n]});if(n===0){this.firstImg=r[0]}r[0].addEventListener("load",function(n){return function(){t.loadedImages++;if(n===0){t.firstImageLoaded.resolve(this)}else{if(t.firstImg.height>this.height){t.shortImages.push(e(this))}if(t.loadedImages===t.urls.length){t.resizeFrames()}}}}(n));this.images.push(r)}},getImageDimensions:function(){var t=this;this.dimensionsReady=new e.Deferred;this.firstImageLoaded.done(function(e){t.imgWidth=t.options.width==="auto"?e.naturalWidth:t.options.width;t.dimensionsReady.resolve()})},initImageFrames:function(){var t=this;this.imgFrames=[];for(var n=0;n<this.images.length;n++){this.imgFrames.push(e("<div>").css({"background-color":t.options.frameBG,width:100/this.images.length+"%"}))}this.dimensionsReady.done(function(){t.imgFrames.forEach(function(e){e.css("max-height",t.imgHeight)})})},frameImages:function(){var e=this;this.imgFrames.forEach(function(t,n){t.append(e.images[n])})},initSlider:function(t){var n=this;this.slider=e("<div>");this.slider.addClass("cf").css("width",100*this.images.length+"%");this.sliderContainer.css("margin-top",this.options.marginTop);this.dimensionsReady.done(function(){n.sliderContainer.css("max-width",n.imgWidth)})},hangFrames:function(){for(var e=0;e<this.images.length;e++){this.slider.append(this.imgFrames[e])}},displaySlider:function(){this.sliderContainer.append(this.slider)},resizeFrames:function(){var e=this.images[0].height();for(index=1;index<this.imgFrames.length;index++){this.imgFrames[index].css("height",e+"px")}for(index=0;index<this.shortImages.length;index++){var t=this.shortImages[index];var n=(e-t.height())/2+"px";t.css("margin-top",n)}},initResizeCallback:function(){var e=this;this.windowResizeListener=window.addEventListener("resize",function(){e.resizeFrames();e.resizeNavButtons()})},initSideButtons:function(){if(this.options.sideButtons==="none"||typeof this.options.leftBtn!=="undefined"||typeof this.options.rightBtn!=="undefined"){return}else if(this.options.sideButtons==="auto"){this.options.leftBtn=e("<button>",{"class":"leftBtn"});this.options.rightBtn=e("<button>",{"class":"rightBtn"});this.sliderContainer.append(this.options.leftBtn,this.options.rightBtn)}},bindSideButtons:function(){var e=typeof this.options.leftBtn!=="undefined",t=typeof this.options.rightBtn!=="undefined",n=this;if(this.options.sideButtons==="none"&&!e&&!t){return}if(e){this.options.leftBtn.on("click",function(){if(n.slider.queue().length===0){n.clearAutoScroll()}n.slideRight()})}if(t){this.options.rightBtn.on("click",function(){if(n.slider.queue().length===0){n.clearAutoScroll()}n.slideLeft()})}},initNavButtons:function(){if(!this.options.navButtons){this.disableNavFunctions();return}var t=this;this.navButtons=[];this.navButtonsContainer=e("<div>",{"class":"navBtnsContainer"});this.navButtonsSubContainer=e("<div>",{"class":"cf navBtns"});for(var n=0;n<this.images.length;n++){var r=e("<button>",{"class":"navBtn"});r[0].setAttribute("data-btnIndex",n);this.navButtons.push(r);this.navButtonsSubContainer.append(r)}this.firstImageLoaded.done(function(){t.resizeNavButtons();t.activateButton(t.navButtons[t.dispIndex])});this.navButtonsContainer.append(this.navButtonsSubContainer).appendTo(this.sliderContainer)},bindNavButtons:function(){if(!this.options.navButtons){return}var e=this;this.navButtonsSubContainer.on("click",function(t){var n=t.target,r=n.getAttribute("data-btnIndex")||-1;if(r===-1||e.slider.queue().length>0){return}var i=e.dispIndex,s=r-i,o=Math.abs(s);amountOfImages=e.images.length;if(s===0){return}else if(s>0){var u=o,a=amountOfImages-o}else{var u=amountOfImages-o,a=o}if(u<=a){for(var f=0;f<u;f++){e.slideLeft()}}else{for(var l=0;l<a;l++){e.slideRight()}}e.clearAutoScroll()})},resizeNavButtons:function(){var e=Math.ceil(this.navButtons[0][0].getBoundingClientRect().height);this.navButtons.forEach(function(t){t.css("width",e)})},disableNavFunctions:function(){this.navButtons=[];this.bindNavButtons=function(){};this.resizeNavButtons=function(){};this.activateButton=function(){};this.deactivateButton=function(){}},initAutoScroll:function(){if(!this.options.autoScroll){return}var e=this;if(typeof this.scrollHandler==="undefined"){this.scrollHandler=setInterval(function(){e.slideLeft()},this.options.scrollInterval)}},clearAutoScroll:function(){this.scrollHandler=clearInterval(this.scrollHandler)},slideLeft:function(){var e=this,t=this.slider,n={"margin-left":-(this.slider.width()/this.images.length)+"px"},r=Math.ceil(t.queue().length/4),i=this.options.scrollDuration/(r+1);t.queue(function(){e.deactivateButton(e.navButtons[e.dispIndex]);t.dequeue();var n=e.dispIndex+1>e.images.length-1?0:e.dispIndex+1;e.activateButton(e.navButtons[n])}).animate(n,i,this.options.easing).queue(function(){e.firstToLast();t.dequeue()}).queue(function(){t.dequeue();if(t.queue().length===0){setTimeout(function(){e.initAutoScroll()},e.options.scrollDuration+e.options.pauseDuration)}})},firstToLast:function(){this.slider.append(this.imgFrames[this.dispIndex]).css({"margin-left":0});this.dispIndex=(this.dispIndex+1)%this.images.length},slideRight:function(){var e=this,t=this.slider,n={"margin-left":0},r=Math.ceil(this.getQueueLength()/4),i=this.options.scrollDuration/(r||1);t.queue(function(){e.deactivateButton(e.navButtons[e.dispIndex]);t.dequeue()}).queue(function(){e.lastToFirst();e.activateButton(e.navButtons[e.dispIndex]);t.dequeue()}).animate(n,i,e.options.easing).queue(function(){t.dequeue();if(e.getQueueLength()===0){setTimeout(function(){e.initAutoScroll()},e.options.scrollDuration+e.options.pauseDuration)}})},lastToFirst:function(){var e=this.images.length;this.slider.prepend(this.imgFrames[(this.dispIndex+e-1)%e]).css({"margin-left":-1*this.slider.width()/this.images.length+"px"});this.dispIndex=this.dispIndex-1<0?this.images.length-1:this.dispIndex-1},getQueueLength:function(){return this.slider.queue().length},activateButton:function(e){e.addClass("activated")},deactivateButton:function(e){e.removeClass("activated")}};e.jSlider=function(e,t,r){var i=Object.create(n);i.init(e,t,r);return i};e.jSlider.options={width:"auto",frameBG:"#000000",marginTop:"0",sideButtons:"auto",leftBtn:t,rightBtn:t,navButtons:true,autoScroll:true,scrollInterval:3e3,scrollDuration:600,pauseDuration:1e3,easing:"linear"}})(jQuery)